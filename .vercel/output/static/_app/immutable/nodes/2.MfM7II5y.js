var w=Object.defineProperty;var v=(h,t,e)=>t in h?w(h,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):h[t]=e;var a=(h,t,e)=>(v(h,typeof t!="symbol"?t+"":t,e),e);import{s as y,n as c,o as x}from"../chunks/scheduler.zMJaRgub.js";import{S as g,i as M,e as f,s as P,c as m,y as p,h as S,o as d,j as l,g as u}from"../chunks/index.bdaJyo3N.js";class L{constructor(t){a(this,"x");a(this,"y");a(this,"radius",Math.floor(Math.random()*8+4));a(this,"vx",Math.random()*1-.5);a(this,"vy",Math.random()*1-.5);a(this,"pushX",0);a(this,"pushY",0);a(this,"friction",.8);this.effect=t,this.effect=t,this.x=Math.floor(this.radius+Math.random()*(this.effect.width-this.radius*2)),this.y=Math.floor(this.radius+Math.random()*(this.effect.height-this.radius*2))}draw(t){t.beginPath(),t.arc(this.x,this.y,this.radius,0,Math.PI*2,!1),t.fill()}update(){if(this.effect.mouse.pressed===!0){const t=this.x-this.effect.mouse.x,e=this.y-this.effect.mouse.y,s=Math.hypot(t,e),i=this.effect.mouse.radius/s;if(s<this.effect.mouse.radius){const r=Math.atan2(e,t);this.pushX+=Math.cos(r)*i,this.pushY+=Math.sin(r)*i}}this.x+=(this.pushX*=this.friction)+this.vx,this.y+=(this.pushY*=this.friction)+this.vy,this.x<this.radius?(this.x=this.radius,this.vx*=-1):this.x>this.effect.width-this.radius&&(this.x=this.effect.width-this.radius,this.vx*=-1),this.y<this.radius?(this.y=this.radius,this.vy*=-1):this.y>this.effect.height-this.radius&&(this.y=this.effect.height-this.radius,this.vy*=-1)}reset(){this.x=this.radius+Math.random()*(this.effect.width-this.radius*2),this.y=this.radius+Math.random()*(this.effect.height-this.radius*2)}}class E{constructor(t,e){a(this,"width");a(this,"height");a(this,"particles",[]);a(this,"numberOfParticles",200);a(this,"paused",!1);a(this,"maxParticleDistance",100);a(this,"mouse",{x:0,y:0,pressed:!1,radius:150});this.canvas=t,this.context=e,this.canvas=t,this.context=e,this.width=this.canvas.width,this.height=this.canvas.height,this.createParticles(),window.addEventListener("keydown",s=>{s.code==="Space"&&(this.paused=!this.paused)}),window.addEventListener("resize",b(s=>{this.resize(s.target.window.innerWidth,s.target.window.innerHeight)},100)),window.addEventListener("touchstart",s=>{this.mouse.pressed=!0,this.mouse.x=s.touches[0].clientX,this.mouse.y=s.touches[0].clientY}),window.addEventListener("touchmove",s=>{this.mouse.x=s.touches[0].clientX,this.mouse.y=s.touches[0].clientY}),window.addEventListener("touchend",s=>{this.mouse.pressed=!1}),window.addEventListener("mousedown",s=>{this.mouse.pressed=!0,this.mouse.x=s.x,this.mouse.y=s.y}),window.addEventListener("mouseup",s=>{this.mouse.pressed=!1})}createParticles(){for(let t=0;t<this.numberOfParticles;t++)this.particles.push(new L(this))}handleParticles(t){this.connectParticles(t),this.particles.forEach(e=>{e.draw(t),!this.paused&&e.update()})}connectParticles(t){let e=1;t.save();for(let s=0;s<this.particles.length;s++)for(let i=s;i<this.particles.length;i++){const r=Math.sqrt((this.particles[s].x-this.particles[i].x)**2+(this.particles[s].y-this.particles[i].y)**2);r<this.maxParticleDistance&&(e=1-r/this.maxParticleDistance,t.globalAlpha=e,t.lineWidth=1,t.beginPath(),t.moveTo(this.particles[s].x,this.particles[s].y),t.lineTo(this.particles[i].x,this.particles[i].y),t.stroke())}t.restore()}resize(t,e){this.canvas.width=t,this.canvas.height=e,this.width=t,this.height=e,this.context.fillStyle="white";const s=this.context.createLinearGradient(0,0,t,e);s.addColorStop(0,"white"),s.addColorStop(.5,"magenta"),s.addColorStop(1,"blue"),this.context.fillStyle=s,this.context.strokeStyle="white",this.particles.forEach(i=>{i.reset()})}}const b=(h,t=300)=>{let e;return function(...s){clearTimeout(e),e=setTimeout(()=>h.apply(this,s),t)}};function C(h){let t,e='<h1 class="font-mono text-3xl uppercase text-fuchsia-700"><a class="z-50" href="/#">markh.dev</a></h1>',s,i,r='<canvas class="z-40" id="canvas1"></canvas>';return{c(){t=f("div"),t.innerHTML=e,s=P(),i=f("div"),i.innerHTML=r,this.h()},l(n){t=m(n,"DIV",{class:!0,"data-svelte-h":!0}),p(t)!=="svelte-12obsxs"&&(t.innerHTML=e),s=S(n),i=m(n,"DIV",{class:!0,id:!0,"data-svelte-h":!0}),p(i)!=="svelte-1l0m0ce"&&(i.innerHTML=r),this.h()},h(){d(t,"class","fixed left-12 top-12 z-50"),d(i,"class","z-40"),d(i,"id","container")},m(n,o){l(n,t,o),l(n,s,o),l(n,i,o)},p:c,i:c,o:c,d(n){n&&(u(t),u(s),u(i))}}}function _(h){let t,e,s,i;return x(async()=>{t=document.getElementById("canvas1"),e=t.getContext("2d"),t.width=window.innerWidth,t.height=window.innerHeight,s=e.createLinearGradient(0,0,t.width,t.height),s.addColorStop(0,"lime"),s.addColorStop(.5,"magenta"),s.addColorStop(1,"blue"),e.fillStyle=s,e.strokeStyle="white",i=new E(t,e);function r(){e.clearRect(0,0,t.width,t.height),i.handleParticles(e),requestAnimationFrame(r)}r()}),[]}class k extends g{constructor(t){super(),M(this,t,_,C,y,{})}}export{k as component};
